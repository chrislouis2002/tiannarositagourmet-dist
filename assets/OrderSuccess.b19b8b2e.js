import{k as f,l as i,Q as u}from"./QBtn.1fda2045.js";import{Q as p}from"./QPage.ff4c8a0c.js";import{r as d,a as _,m as a,y,z as h,C as v,q as n,t,s}from"./index.cb7ddad8.js";const x={key:0,class:"text-center"},k=s("p",{class:"text-grey-8 q-mt-md"},"Verifying your payment...",-1),g={key:1,class:"text-center"},q=s("h3",{class:"q-mt-md"},"Payment Successful!",-1),b=s("p",null,"Your order has been received. We'll start preparing it right away \u{1F354}\u{1F525}",-1),B={key:2,class:"text-center"},Q=s("h3",{class:"q-mt-md"},"Payment Failed",-1),z=s("p",null,"We couldn\u2019t verify your payment. Please contact support or try again.",-1),A={__name:"OrderSuccess",setup(w){const m=v(),r=d(!0),e=d(!1);return _(async()=>{const c=m.query.reference;if(!c){r.value=!1,e.value=!1;return}try{const l=await(await fetch(`https://api.paystack.co/transaction/verify/${c}`,{headers:{Authorization:"Bearer sk_test_ad864ebf5cefe30bd9593955965bd418ea61cd4b"}})).json();l.status&&l.data.status==="success"?e.value=!0:e.value=!1}catch(o){console.error("Verification error:",o),e.value=!1}finally{r.value=!1}}),(c,o)=>(a(),y(p,{class:"flex flex-center column q-pa-xl"},{default:h(()=>[r.value?(a(),n("div",x,[t(f,{color:"primary",size:"50px"}),k])):e.value?(a(),n("div",g,[t(i,{name:"check_circle",color:"green",size:"80px"}),q,b,t(u,{color:"primary",label:"Back to Menu",to:"/menu",class:"q-mt-md"})])):(a(),n("div",B,[t(i,{name:"error",color:"red",size:"80px"}),Q,z,t(u,{color:"primary",label:"Try Again",to:"/checkout",class:"q-mt-md"})]))]),_:1}))}};export{A as default};
